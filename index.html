<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Gantt Timeline Logic Experiment</title>
    <link href="css/styles.css" type="text/css" rel="stylesheet"/>

    <style>
        #myCanvas {
            width: 100%;
            height: 400px;
            background: lightBlue;
        }

        #myGanttElement {
            position: absolute;
            width: 100%;
            top:400px;
        }

    </style>

</head>

<body>
<canvas id="myCanvas"></canvas>
<div id="myGanttElement"></div>

</body>
<script type="module">

    import {BIM4D} from "./dist/main.js";

    const bim4D = new BIM4D({
        canvasElement: document.getElementById("myCanvas"),
        ganttElement: document.getElementById("myGanttElement")
    });

    bim4D.init(() => { // Loads model, creates Gantt data model

            console.log("Ready.");

            const startTime = bim4D.ganttData.startTime;
            const endTime = bim4D.ganttData.endTime;

            let time = startTime;
            const inc = (endTime - startTime) / 100;

            setInterval(() => {

                bim4D.setTime(time);
                time += inc;
                if (time > endTime) {
                    time = startTime;
                }
            }, 100)
        },
        (errMsg) => {
            console.error(errMsg);
        });

</script>
</html>

